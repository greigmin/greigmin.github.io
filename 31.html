<!DOCTYPE html>
<html lang="ru">
<head>
<title>Фомин 14222 ВБ</title>
<meta charset="utf-8">
<link rel="stylesheet" type="text/css" href="styles/bootstrap4/bootstrap.min.css">
<link href="plugins/font-awesome-4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="styles/main_styles.css">
 
</head>
<body>
	<header class="header">
		<div class="header_container">
			<div class="container">
				<div class="row">
					<div class="col">
						<div class="header_content d-flex flex-row align-items-center justify-content-start">
							<nav class="main_nav">
								<ul>
									<li class="hassubs">
										<a href="index.html">Задачи на работу с числами</a>
										<ul>
											<li><a href="index.html">Задание 1</a></li>
											<li><a href="12.html">Задание 2</a></li>
											<li><a href="13.html">Задание 3</a></li>
											<li><a href="14.html">Задание 4</a></li>
											<li><a href="15.html">Задание 5</a></li>
											<li><a href="16.html">Задание 6</a></li>
											<li><a href="17.html">Задание 7</a></li>
											<li><a href="18.html">Задание 8</a></li>
											<li><a href="19.html">Задание 9</a></li>
											<li><a href="10.html">Задание 10</a></li>
											<li><a href="111.html">Задание 11</a></li>
											<li><a href="112.html">Задание 12</a></li>
											<li><a href="113.html">Задание 13</a></li>
											<li><a href="114.html">Задание 14</a></li>
											<li><a href="115.html">Задание 15</a></li>
										</ul>
									</li>
									<li class="hassubs">
										<a href="21.html">Работа с структурами данных</a>
										<ul>
											<li><a href="21.html">Задание 1</a></li>
											<li><a href="23.html">Задание 3</a></li>
											<li><a href="27.html">Задание 7</a></li>
										</ul>
									</li>
									<li class="hassubs">
										<a href="31.html">Задания на работу с DOM</a>
										<ul>
											<li><a href="31.html">Задание 1</a></li>
											<li><a href="33.html">Задание 3</a></li>
											<li><a href="35.html">Задание 5</a></li>
											<li><a href="36.html">Задание 6</a></li>
											<li><a href="38.html">Задание 8</a></li>
											<li><a href="39.html">Задание 9</a></li>
										</ul>
									</li>
								</ul>
						</div>
					</div>
				</div>
			</div>
		</div>
	<main class="main">
		<h1>3.1. Создать web-страницу, в которой отображается календарь на текущий месяц в виде таблицы.</h1>
		<table id="calendar">
          <thead class="">
                <tr>
                    <td class="arrow">‹</td>
                    <td colspan="5" class="current_month"></td>
                    <td class="arrow">›</td>
                </tr>
                <tr><td>Пн<td>Вт<td>Ср<td>Чт<td>Пт<td>Сб<td>Вс</tr>
          <tbody>
        </table>
	</main>
<script>
    function Calendar(id, year, month) {
    var Dlast = new Date(year,month+1,0).getDate(),
        D = new Date(year,month,Dlast),
        DNlast = new Date(D.getFullYear(),D.getMonth(),Dlast).getDay(),
        DNfirst = new Date(D.getFullYear(),D.getMonth(),1).getDay(),
        calendar = '<tr>',
        month=["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"];
    if (DNfirst != 0) {
      for(var  i = 1; i < DNfirst; i++) calendar += '<td>';
    }else{
      for(var  i = 0; i < 6; i++) calendar += '<td>';
    }
    for(var  i = 1; i <= Dlast; i++) {
      if (i == new Date().getDate() && D.getFullYear() == new Date().getFullYear() && D.getMonth() == new Date().getMonth()) {
        calendar += '<td class="today">' + i;
      }else{
        calendar += '<td>' + i;
      }
      if (new Date(D.getFullYear(),D.getMonth(),i).getDay() == 0) {
        calendar += '<tr>';
      }
    }
    for(var  i = DNlast; i < 7; i++) calendar += '<td>&nbsp;';
    document.querySelector('#'+id+' tbody').innerHTML = calendar;
    document.querySelector('#'+id+' thead td:nth-child(2)').innerHTML = month[D.getMonth()] +' '+ D.getFullYear();
    document.querySelector('#'+id+' thead td:nth-child(2)').dataset.month = D.getMonth();
    document.querySelector('#'+id+' thead td:nth-child(2)').dataset.year = D.getFullYear();
    if (document.querySelectorAll('#'+id+' tbody tr').length < 6) {  
        document.querySelector('#'+id+' tbody').innerHTML += '<tr><td>&nbsp;<td>&nbsp;<td>&nbsp;<td>&nbsp;<td>&nbsp;<td>&nbsp;<td>&nbsp;';
    }
    }
    Calendar("calendar", new Date().getFullYear(), new Date().getMonth());

    document.querySelector('#calendar thead tr:nth-child(1) td:nth-child(1)').onclick = function() {
      Calendar("calendar", document.querySelector('#calendar thead td:nth-child(2)').dataset.year, parseFloat(document.querySelector('#calendar thead td:nth-child(2)').dataset.month)-1);
    }

    document.querySelector('#calendar thead tr:nth-child(1) td:nth-child(3)').onclick = function() {
      Calendar("calendar", document.querySelector('#calendar thead td:nth-child(2)').dataset.year, parseFloat(document.querySelector('#calendar thead td:nth-child(2)').dataset.month)+1);
    }
    </script>
<script src="styles/bootstrap4/popper.js"></script>
<script src="styles/bootstrap4/bootstrap.min.js"></script>
</body>
</html>